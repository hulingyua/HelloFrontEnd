# 移动Web

###1.屏幕与分辨率

> 移动设备与PC设备最大的差异在于屏幕，这主要体现在屏幕尺寸和屏幕分辨率两个方面

####屏幕尺寸

- 通常我们所指的屏幕`尺寸`，实际上指的是屏幕对角线的长度（一般用英寸来度量）

#### 屏幕分辨率

- 分辨率则一般用像素来度量，表示屏幕水平和垂直方向的像素数，例如1920*1080指的是屏幕垂直方向和水平方向分别有1920和1080个像素点而构成，分辨率越高，越清晰。
- 像素是计算机显示设备中的最小单位，即一个像素点的大小。**像素是相对长度单位**，在屏幕分辨率越高的设备上，像素点越小，屏幕分辨率越低，像素点越大。

#### 像素密度ppi

- PPI(Pixels Per Inch)表示屏幕每英寸的像素数

  ```markdown
  1. PPI计算公式：PPI =Math.sqrt(Math.pow(横向屏幕分辨率,2)+Math.pow(纵向屏幕分辨率,2)) / 屏幕尺寸
  2. PPI值的越大说明单位尺寸里所能容纳的像素数量就越多，所能展现画面的品质也就越精细，反之就越粗糙
  ```

###2.设备独立像素

- 随着技术发展，设备不断更新，出现了不同PPI的屏幕共存的状态,给我们的开发带来诸多不便，但作为用户是不会关心这些细节的，他们只是希望在不同PPI的设备上看到的图像内容差不多大小，所以这时我们需要一个新的单位，这个新的单位能够保证图像内容在不同的PPI设备上看上去大小应该差不多，这就是独立像素（设备无关像素）。在IOS设备上叫`pt`，Android设备上叫`dp`，在css中，叫`px`。


- 获取设备的像素比

  ```javascript
  // 设备像素比devicePixelRatio：即像素的压缩比例
  window.devicePixelRatio  //物理像素与独立像素的比值
  ```

###3. 关于2倍图与3倍图

- 我们从UI那拿到的设计图通常都是640px的设计图或者是750px的设计图
- 把更多的像素点压缩至一块屏幕里，从而达到更高的分辨率并提高屏幕显示的细腻程度
- **在移动端为了在高清屏手机上显示得更加细腻，通常会使用更大的图片，比如2倍图或者3倍图**

###4.视口viewport

- 一个电脑上的网站，在手机端访问，效果是什么样的？iPhone5的设备宽度只有320px，一张宽度为640px的图片在手机端访问，显示的效果是怎样的？

  ```markdown
  1. 在手机端，html的大小都是980px
  这主要是历史原因导致的，因为在移动设备刚流行的时候，网站大多都是pc端的，pc端的页面宽度一般都比较大，移动设备的宽度比较小，如果pc端页面直接在移动端显示的话，页面就会错乱。为了解决这个问题，移动端html的大小直接就定死成了980px（因为早先的pc端网站版心就是以980px居多）。
  2. 视口
  在pc端，html的大小默认是继承了浏览器的宽度，即浏览器多宽，html的大小就是多宽，但是在移动端，多出来了一个视口的概念（由乔布斯提出）,视口说白了就是介于浏览器与html之间的一个东西，视口的宽度默认定死了980px，因此html的宽度默认就是980px，视口的特点是能够根据设备的宽度进行缩放。
  3. 视口设置。
  对于现在的移动端页面来说，视口默认为980px肯定不合适，因为设备宽度不够的话，视口会进行缩放，导致页面展示效果不好看。
  ```

- 视口参数设置

  ```html
  <!--
  width=device-width 设置视口宽度为设备的宽度（常用）。
  initial-scale=1.0  设置初始缩放比例为不缩放
  user-scalable=no   设置是否允许用户缩放为不允许用户缩放
  maximum-scale=1.0  设置允许的最大缩放比例
  minimum-scale=1.0  设置允许最小缩放比
  -->
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  ```

###5.流式布局

- 也叫百分比布局，是移动端开发中经常使用的布局方式之一。经典的流式布局有：

  ```markdown
  1. 左侧固定，右侧自适应
  2. 右侧固定，左侧自适应
  3. 两侧固定，中间自适应（圣杯布局，双飞翼布局）
  4. 等分布局
  ```

###6. 样式初始化

- 代码：

```css
@charset "utf-8";
body, div, ul, li, ol, h1, h2, h3, h4, h5, h6, input, textarea, select, p, dl, dt, dd, a, img, button, form, table, th, tr, td, tbody, article, aside, details, figcaption, figure, footer, header, menu, nav, section {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}
body {
  font: 12px/1.5 'Microsoft YaHei', 'SimSun', Tahoma, Arial, sans-serif;
  color: #000;
  background-color: #fff;
}
fieldset, img, input, button, textarea {
  border: none;
  outline-style: none;
}
textarea {
  resize: none;
}
a {
  text-decoration: none;
  color: #969696;
  /* 取消链接高亮  */
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}
/* 图片自适应 */
img {
  width: 100%;
  /*解决图片底部对齐问题*/
  display: block;
}
ul, ol {
  list-style: none;
}
h1, h2, h3, h4, h5, h6 {
  text-decoration: none;
  font-weight: normal;
  font-size: 100%;
}
em, i {
  font-style: normal;
}
.fl {
  float: left;
}
.fr {
  float: right;
}
.clearfix:before, .clearfix:after {
  content: "";
  display: table;
}
.clearfix:after {
  clear: both;
}
/*单行溢出*/
.one-txt-cut {
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

/*多行溢出*/
.txt-cut {
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}
/*设置或检索对象内空格的处理方式
  white-space：normal | pre | nowrap | pre-wrap | pre-line
  pre： 用等宽字体显示预先格式化的文本，不合并文字间的空白距离，当文字超出边界时不换行
  nowrap： 强制在同一行内显示所有文本，合并文本间的多余空白，直到文本结束或者遭遇br对象
  pre-wrap： 用等宽字体显示预先格式化的文本，不合并文字间的空白距离，当文字碰到边界时发生换行
  pre-line： 保持文本的换行，不保留文字间的空白距离，当文字碰到边界时发生换行
*/

/* 定义内联内容溢出其块容器是否截断或者添加(...)及自定义字符
  text-overflow：clip | ellipsis
  clip： 当内联内容溢出块容器时，将溢出部分裁切掉
  ellipsis： 当内联内容溢出块容器时，将溢出部分替换为（...）
*/

/* 设置或检索伸缩盒对象的子元素的排列方式
  box-orient：horizontal | vertical | inline-axis | block-axis
  horizontal： 设置伸缩盒对象的子元素从左到右水平排列
  vertical： 设置伸缩盒对象的子元素从上到下纵向排列
  inline-axis： 设置伸缩盒对象的子元素沿行轴排列
  block-axis： 设置伸缩盒对象的子元素沿块轴排列
*/
```

<div style="width:800px;text-align:center;">
Copyright© 2017 <a style="text-decoration: none;color: #FF0066;" href="https://github.com/kingmui" target="_blank">KINGMUI</a> All Rights Reserved<br />Updated on October 19, 2017
</div>